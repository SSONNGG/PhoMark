<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Welcome to PhoMark-Register</title>
    <link rel="stylesheet" href="css/fontset.css" />
    <link rel="stylesheet" href="css/register.css">
    <link rel="icon" href="img/icon_main.png" type="image/x-icon">
    <script type="text/javascript" src="js/vue.js"></script>
</head>

<body>

    <div class="gsn_view" id="gsn_view">

        <!--1.创建您的账户和密码-->
        <div class="change_view1" v-show="cur==0">
            <div class="view1_left">
                <div class="left_radius">
                    <canvas id="one" width="130px" height="130px"></canvas> <!--修改圆环大小请修改此处的内容，无法使用css文件中的样式-->
                    <span class="left_num">01</span>
                </div>
                <div class="left_title">
                    <span class="left_title_max">Create your account and password</span>
                    <span class="left_title_min">创建您的账户和密码</span>
                </div>
                <div class="left_desc">
                    <span class="desc_top">
                        只需一个 PhoMark ID，您即可访问 PhoMark 所有内容。
                    </span>
                    <span class="desc_bottom">
                        您的 PhoMark ID 信息被用于确保您能够安全登录并访问您的数据。
                        出于安全性、支持和报告的目的，PhoMark 会记录您的某些使用情况数据，用于改进用户体验。
                    </span>
                </div>
                <div class="left_bottom">
                    <div class="bottom_pos">
                        <img class="bottom_icon" src="img/icon_white.png">
                    </div>

                </div>

            </div>

            <div class="view1_right">
                <button @click="cur=1" :class="{active:cur==1}">下一步：连接到邮箱</button>
            </div>

        </div>

        <!--2.连接您的邮箱到账户-->
        <div class="change_view2"  v-show="cur==1">
            <div class="view2_left">
                <div class="left_radius">
                    <canvas id="two" width="130px" height="130px"></canvas>
                    <span class="left_num">02</span>
                </div>
                <div class="left_title">
                    <span class="left_title_max">Binding email to your account</span>
                    <span class="left_title_min">绑定您的邮箱到账户</span>
                </div>
                <div class="left_desc">
                    <span class="desc_top">
                        只需一个 PhoMark ID，您即可访问 PhoMark 所有内容。
                    </span>
                    <span class="desc_bottom">
                        您的邮箱用于接收 PhoMark 活动相关信息，如果您不需要 PhoMark 打扰到您，
                        可以在注册后前往设置关闭活动推送。PhoMark 不会以任何形式泄露用户的个人信息。
                    </span>
                </div>

            </div>
            <div class="view2_right">
                <button @click="cur=2" :class="{active:cur==2}">下一步：完善个人信息</button>
            </div>
        </div>

        <!--3.完善您的个人信息-->
        <div class="change_view3"  v-show="cur==2">
            <div class="view3_left">
                <div class="left_radius">
                    <canvas id="three" width="130px" height="130px"></canvas>
                    <span class="left_num">03</span>
                </div>
                <div class="left_title">
                    <span class="left_title_max">Improve your personal information</span>
                    <span class="left_title_min">完善您的个人信息</span>
                </div>
                <div class="left_desc">
                    <span class="desc_top">
                        只需一个 PhoMark ID，您即可访问 PhoMark 所有内容。
                    </span>
                    <span class="desc_bottom">
                        您的个人信息将在 PhoMark 用于社交用途，您在 PhoMark 上发表的个人文章将拥有您个人的印记，
                        PhoMark 不强制用户在社交上使用实名，但需要在后台对您本人的用户进行实名认证。
                    </span>
                </div>
            </div>
            <div class="view3_right">
                <button @click="cur=3" :class="{active:cur==3}">下一步：进行实名认证</button>
            </div>
        </div>

        <!--4.进行实名认证-->
        <div class="change_view4" v-show="cur==3">
            <div class="view4_left">
                <div class="left_radius">
                    <canvas id="four" width="130px" height="130px"></canvas>
                    <span class="left_num">04</span>
                </div>

                <div class="left_title">
                    <span class="left_title_max">Complete real name authentication</span>
                    <span class="left_title_min">进行实名认证</span>
                </div>
                <div class="left_desc">
                    <span class="desc_top">
                        只需一个 PhoMark ID，您即可访问 PhoMark 所有内容。
                    </span>
                    <span class="desc_bottom">
                        根据《互联网跟帖评论服务管理规定》，PhoMark 将保存您的个人实名信息在后台，
                        但 PhoMark 会极力保护您的个人身份信息，并不会将您的个人信息用于其他非法用途。
                    </span>
                </div>
            </div>
            <div class="view4_right">
                <button @click="cur=0" :class="{active:cur==0}">完成注册</button>
            </div>
        </div>
    </div>
</body>

<script>
    var app = new Vue({
        el: "#gsn_view",
        data: {
            cur: 0//默认选中第一个tab
        }
    });
</script>

<script type="text/javascript">
    //设置每个圆环的参数
    drawCircle({
        id: 'one',          //对应圆环canvas的id
        color: '#FEA2A4',   //圆环填充颜色
        angle: 0.25,        //角度
        lineWidth: 15       //宽度
    });
    drawCircle({
        id: 'two',
        angle: 0.50,
        color: '#BAAAE8',
        lineWidth: 15
    });
    drawCircle({
        id: 'three',
        angle: 0.75,
        lineWidth: 15,
        color: '#C0E7FB'
    });
    drawCircle({
        id: 'four',
        angle: 1,
        lineWidth: 15,
        color: '#54FFD2'
    });

    //绘制圆环JS
    function drawCircle(_options){
        var options = _options || {};
        //获取或定义options对象;
        options.angle = options.angle || 1;//定义默认角度1为360度(角度范围 0-1);
        options.color = options.color || '#FFFFFF';//定义默认颜色（包括字体和边框颜色）;
        options.lineWidth = options.lineWidth || 10;//定义默认圆描边的宽度;
        options.lineCap = options.lineCap || 'round';//定义描边的样式，默认为直角边，round 为圆角
        var oBoxOne = document.getElementById(options.id);  //获取到canvas的ID，并将其赋值给oBoxOne
        var sCenter = oBoxOne.width / 2;//获取canvas元素的中心点;
        var ctx = oBoxOne.getContext('2d');
        var nBegin = Math.PI / 2;//定义起始角度;
        var nEnd = Math.PI * 2;//定义结束角度;
        var grd = ctx.createLinearGradient(0, 0, oBoxOne.width, 0);//grd定义为描边渐变样式;
        grd.addColorStop(0, 'red');
        grd.addColorStop(0.5, 'yellow');
        grd.addColorStop(1, 'green');
        /**
         * 倘若有需要在内部自动添加文字，可以取消注释
            ctx.textAlign = 'center';//定义字体居中;
            ctx.font = 'normal normal bolder 20px PingFang';//定义字体加粗大小字体样式;
            ctx.fillStyle = options.color == 'grd' ? grd : options.color;//判断文字填充样式为颜色，还是渐变色;
            ctx.fillText((options.angle * 100) + '%', sCenter, sCenter);//设置填充文字;
            ctx.strokeStyle = grd;
            //设置描边样式为渐变色;    ctx.strokeText((options.angle * 100) + '%', sCenter, sCenter);    //设置描边文字(即镂空文字);
         */
        //ctx.fillText(options.title,12,12);
        ctx.lineCap = options.lineCap;
        ctx.strokeStyle = options.color == 'grd' ? grd : options.color;
        ctx.lineWidth = options.lineWidth;
        ctx.beginPath();//设置起始路径，这段绘制360度背景;
        ctx.strokeStyle = '#FFFFFF';    //这是修改圆环未填充部分颜色的代码
        ctx.arc(sCenter, sCenter, (sCenter - options.lineWidth), -nBegin, nEnd, false);
        ctx.stroke();
        var imd = ctx.getImageData(0, 0, 240, 240);

        //绘制角度的函数
        function draw(current) {
            ctx.putImageData(imd, 0, 0);
            ctx.beginPath();
            ctx.strokeStyle = options.color == 'grd' ? grd : options.color;
            ctx.arc(sCenter, sCenter, (sCenter - options.lineWidth), -nBegin, (nEnd * current) - nBegin, false);
            ctx.stroke();
        }

        var t = 0;
        var timer = null;
        function loadCanvas(angle) {
            //该函数循环绘制指定角度，实现加载动画;
            timer = setInterval(function(){
                if (t > angle) {
                    draw(options.angle);
                    clearInterval(timer);
                }else{
                    draw(t);
                    t += 0.02;
                }
            }, 20);
        }
        loadCanvas(options.angle);//载入百度比角度  0-1 范围;
        timer = null;
    }
</script>


</html>